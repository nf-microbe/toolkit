params {
    config_profile_description = "Example config profile used for the University of Washington's Hyak HPC."
    config_profile_contact = 'Carson J. Miller (@CarsonJM)'
    config_profile_url = 'https://hyak.uw.edu/'
    max_memory = 742.GB
    max_cpus = 40
    max_time = 72.h
    }

process {
    executor = 'slurm'
    clusterOptions = { "-A pedslabs" }
    withName:'.*' {
        queue = { task.attempt < 4 ? ( task.attempt < 3 ? 'compute-hugemem' : 'compute-hugemem' ) : 'compute-hugemem' }
        errorStrategy = { task.attempt < 5 ? 'retry' : 'fail' }
        maxRetries = 5
        maxErrors = '-1'
    }
}

executor {
    queueSize = 50
    submitRateLimit = '1 sec'
}

singularity {
    enabled = true
    autoMounts = true
}
